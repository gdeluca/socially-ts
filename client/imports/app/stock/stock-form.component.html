<form [formGroup]="complexForm" (ngSubmit)="submitForm(complexForm.value)">
  <table class="table table-hover">
    <tbody>
      <div ng-form="myForm">
        <tr>
          <!-- action buttons for submision form -->
          <td>
            <button 
              [hidden]="adding" 
              type="button" 
              class="btn btn-default" 
              (click)="adding=true">
              <span class="fa fa-plus-square-o" aria-hidden="true"></span>
            </button>
            <button 
              [hidden]="!adding" 
              type="button" 
              class="btn btn-default" 
              (click)="adding=false;complexForm.reset()">
              <span class="fa fa-minus-square-o" aria-hidden="true"></span>
            </button>
            <button 
              [hidden]="!adding"
              [disabled]="!complexForm.valid" 
              type="button" 
              class="btn btn-default" 
              (click)="adding=false; save(complexForm)">
              <span class="fa fa-check-square-o" aria-hidden="true"></span>
            </button>
          </td> 

          <!-- form fields barcode -->
          <td class="text-center" 
            [ngClass]="{'has-error':!complexForm.controls['barCode'].valid && complexForm.controls['barCode'].touched}">
            <input 
              [hidden]="!adding" 
              type="text" 
              name="barCode" 
              class="form-control" 
              placeholder="Codigo de barras" [formControl]="complexForm.controls['barCode']">
              <!-- The hasError method will tell us if an error exists -->
              <div *ngIf="complexForm.controls['barCode'].hasError('required') && complexForm.controls['barCode'].touched" 
              class="alert alert-danger">
                Falto el codigo
              </div>
              <div *ngIf="complexForm.controls['barCode'].hasError('minlength') && complexForm.controls['barCode'].touched" class="alert alert-danger">
                El codigo debe ser de 12 digitos.
              </div>
          </td>

          <!-- form field name -->
          <td class="text-center" 
              [ngClass]="{'has-error':!complexForm.controls['name'].valid && complexForm.controls['name'].touched}">
              <input 
                [hidden]="!adding" 
                type="text" 
                name="name" 
                class="form-control" 
                placeholder="descripcion" [formControl]="complexForm.controls['name']">
                <!-- The hasError method will tell us if an error exists -->
                <div *ngIf="complexForm.controls['name'].hasError('required') && complexForm.controls['name'].touched" 
                class="alert alert-danger">
                  Falta la descripcion
                </div>
                <div *ngIf="complexForm.controls['name'].hasError('minlength') && complexForm.controls['name'].touched" class="alert alert-danger">
                  La descripcion debe tener al menos 5 caracteres
                </div>
          </td>

          <!-- form fields color -->
          <td class="text-center" 
              [ngClass]="{'has-error':!complexForm.controls['color'].valid && complexForm.controls['color'].touched}">
              <input 
                [hidden]="!adding" 
                type="text" 
                name="color" 
                class="form-control" 
                placeholder="Color" [formControl]="complexForm.controls['color']">
                <div *ngIf="complexForm.controls['color'].hasError('required') && complexForm.controls['color'].touched" class="alert alert-danger">
                  Color del articulo
                </div>
          </td>

          <!-- form fields size -->
          <td class="text-center" 
              [ngClass]="{'has-error':!complexForm.controls['size'].valid && complexForm.controls['size'].touched}">
              <input 
                [hidden]="!adding" 
                type="text" 
                name="size" 
                class="form-control" 
                placeholder="Talle" [formControl]="complexForm.controls['size']">
              <div *ngIf="complexForm.controls['size'].hasError('required') && complexForm.controls['size'].touched" class="alert alert-danger">
                Precio de costo
              </div>
          </td>

          <!-- form fields provider -->
          <td class="text-center" 
              [ngClass]="{'has-error':!complexForm.controls['provider'].valid && complexForm.controls['provider'].touched}">
              <input 
                [hidden]="!adding" 
                type="text" 
                name="provider" 
                class="form-control" 
                placeholder="Nombre del Proveedor" [formControl]="complexForm.controls['provider']">
              <div *ngIf="complexForm.controls['provider'].hasError('required') && complexForm.controls['provider'].touched" class="alert alert-danger">
                Nombre del proveedor
              </div>
          </td>
        </tr>
        <tr>

          <!-- form fields cost -->
          <td class="text-center" 
              [ngClass]="{'has-error':!complexForm.controls['cost'].valid && complexForm.controls['cost'].touched}">
              <input 
                [hidden]="!adding" 
                type="text" 
                name="cost" 
                class="form-control" 
                placeholder="Costo al comprar" [formControl]="complexForm.controls['cost']">
              <div *ngIf="complexForm.controls['cost'].hasError('required') && complexForm.controls['cost'].touched" class="alert alert-danger">
                Precio de Costo
              </div>
              <div *ngIf="complexForm.controls['cost'].hasError('invalidNumber') && complexForm.controls['cost'].touched" class="alert alert-danger">
                El valor debe ser numerico.
              </div>
          </td>

           <!-- form fields cashPayment -->
          <td class="text-center" 
              [ngClass]="{'has-error':!complexForm.controls['cashPayment'].valid && complexForm.controls['cashPayment'].touched}">
              <input 
                [hidden]="!adding" 
                type="text" 
                name="cashPayment" 
                class="form-control" 
                placeholder="Precio efectivo" [formControl]="complexForm.controls['cashPayment']">
              <div *ngIf="complexForm.controls['cashPayment'].hasError('required') && complexForm.controls['cashPayment'].touched" class="alert alert-danger">
                Precio de Contado
              </div>
              <div *ngIf="complexForm.controls['cashPayment'].hasError('invalidNumber') && complexForm.controls['cashPayment'].touched" class="alert alert-danger">
                El valor debe ser numerico.
              </div>
          </td>

          <!-- form fields cardPayment -->
          <td class="text-center" 
              [ngClass]="{'has-error':!complexForm.controls['cardPayment'].valid && complexForm.controls['cardPayment'].touched}">
              <input 
                [hidden]="!adding" 
                type="text" 
                name="cardPayment" 
                class="form-control" 
                placeholder="Precio de Lista" [formControl]="complexForm.controls['cardPayment']">
              <div *ngIf="complexForm.controls['cardPayment'].hasError('required') && complexForm.controls['cardPayment'].touched" class="alert alert-danger">
                Precio de Lista
              </div>
              <div *ngIf="complexForm.controls['cardPayment'].hasError('invalidNumber') && complexForm.controls['cardPayment'].touched" class="alert alert-danger">
                El valor debe ser numerico.
              </div>
          </td>

          <!-- form fields category -->
          <td class="text-center">
            <select 
              [hidden]="!adding" 
              name="categoryOptions" 
              class="form-control" 
               [formControl]="complexForm.controls['category']">
                <option value="" disabled currentIndex hidden>
                  Categoria
                </option>
                <option *ngFor="let category of allCategories | async" [ngValue]="category">
                  {{category.name}}
                </option>
            </select>
            <div *ngIf="complexForm.controls['category'].hasError('required') && complexForm.controls['category'].touched" class="alert alert-danger">
              Seleccione una Categoria
            </div>
          </td>

          <!-- form fields section -->
          <td class="text-center">
            <select 
              [hidden]="!adding" 
              name="sectionOptions" 
              class="form-control" 
               [formControl]="complexForm.controls['section']">
                <option value="" disabled currentIndex hidden>
                  Seccion
                </option>
                <option *ngFor="let section of allSections | async" [ngValue]="section">
                  {{section.name}}
                </option>
            </select>
            <div *ngIf="complexForm.controls['section'].hasError('required') && complexForm.controls['section'].touched" class="alert alert-danger">
              Seleccione una Seccion
            </div>
          </td>
        </tr>
      </div>
    </tbody>
  </table>
</form>